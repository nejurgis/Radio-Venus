<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Radio Venus</title>
  <link rel="icon" href="/Radio-Venus/favicon.svg" type="image/svg+xml" />
  

  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;500;600&family=EB+Garamond:ital,wght@0,400;0,500;1,400&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
  <script type="importmap">
    { "imports": { "astronomy-engine": "/node_modules/astronomy-engine/esm/astronomy.js" } }
  </script>
  <script type="module" crossorigin src="/Radio-Venus/assets/index-DUAzEGiv.js"></script>
  <link rel="stylesheet" crossorigin href="/Radio-Venus/assets/index-DYZDVtw5.css">
</head>
<body>

  <!-- Hidden Audio Proxy for Visualizer -->
  <audio id="proxy-audio" crossorigin="anonymous"></audio>

  <!-- Nebula background (shared across screens) -->
  <div id="nebula-container" class="nebula-container"></div>

  <!-- Screen 1: Portal -->
  <section id="screen-portal" class="screen active">
    <div class="screen-inner">
      <h1 class="title">Radio Venus</h1>
      <p class="subtitle">discover music through your Venus sign</p>
      <div class="date-input-group">
        <div class="date-fields">
          <input type="text" id="input-day" class="date-field" placeholder="DD" maxlength="2" inputmode="numeric" autocomplete="off" />
          <span class="date-sep">●</span>
          <input type="text" id="input-month" class="date-field" placeholder="MM" maxlength="2" inputmode="numeric" autocomplete="off" />
          <span class="date-sep">●</span>
          <input type="text" id="input-year" class="date-field date-field--year" placeholder="YYYY" maxlength="4" inputmode="numeric" autocomplete="off" />
        </div>
        <button id="btn-enter" class="btn-primary" disabled>Enter</button>
      </div>
      <p id="date-error" class="error-msg"></p>
    </div>
  </section>

  <!-- Screen 2: Reveal -->
  <section id="screen-reveal" class="screen">
    <button id="btn-back-reveal" class="btn-back-top" aria-label="Back">&larr;</button>
    <div class="screen-inner">
      <h2 id="reveal-sign" class="venus-sign"></h2>
      <p id="reveal-detail" class="venus-detail"></p>
      <button id="btn-choose-genre" class="btn-primary">Choose a genre</button>
    </div>
  </section>

  <!-- Screen 3: Genre -->
  <section id="screen-genre" class="screen">
    <button id="btn-back-genre" class="btn-back-top" aria-label="Back">&larr;</button>
    <div class="screen-inner">
      <h2 class="genre-heading">Pick your frequency</h2>
      <div id="genre-grid" class="genre-grid"></div>
    </div>
  </section>

  <!-- Screen 4: Radio -->
  <section id="screen-radio" class="screen">
    <div class="screen-inner radio-layout">
      <div class="radio-header">
        <button id="btn-back" class="btn-back" aria-label="Back">&larr;</button>
        <div class="radio-title">
          <span id="radio-sign" class="radio-sign-label"></span>
          <span id="radio-genre" class="radio-genre-label"></span>
        </div>
      </div>
      <!-- Note: yt-player is visually hidden via CSS usually, or kept small -->
      <div class="player-container">
        <div id="yt-player" class="yt-player"></div>
      </div>
      <div id="now-playing" class="now-playing">
        <span class="np-marquee">
          <span id="np-label" class="np-track"></span>
          <span id="np-label-dup" class="np-track" aria-hidden="true"></span>
        </span>
      </div>
      <div class="progress-container">
        
        <svg class="progress-arc" viewBox="0 0 1000 100" preserveAspectRatio="none">
          <defs>
            <clipPath id="progress-clip"><rect id="progress-clip-rect" x="0" y="0" width="0" height="100" /></clipPath>
            <clipPath id="buffer-clip"><rect id="buffer-clip-rect" x="0" y="0" width="0" height="100" /></clipPath>
            <linearGradient id="arc-track-grad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="rgba(220,200,225,0.12)" />
              <stop offset="100%" stop-color="rgba(220,200,225,0)" />
            </linearGradient>
            <linearGradient id="arc-fill-grad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="rgba(240,215,240,0.5)" />
              <stop offset="50%" stop-color="rgba(235,210,240,0.25)" />
              <stop offset="100%" stop-color="rgba(230,200,235,0)" />
            </linearGradient>
            <linearGradient id="arc-buffer-grad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="rgba(230,210,235,0.3)" />
              <stop offset="100%" stop-color="rgba(230,210,235,0)" />
            </linearGradient>
          </defs>
          <!-- Track: fill dome + thin stroke + wide soft glow stroke -->
          <path class="progress-arc-track" d="M 0,100 Q 500,4 1000,100 Z" />
          <path class="progress-arc-track-line" d="M 0,100 Q 500,4 1000,100" />
          <!-- Buffer -->
          <path class="progress-arc-buffer" d="M 0,100 Q 500,4 1000,100 Z" clip-path="url(#buffer-clip)" />
          <!-- Progress: fill dome + wide glow stroke + thin stroke -->
          <path class="progress-arc-fill" d="M 0,100 Q 500,4 1000,100 Z" clip-path="url(#progress-clip)" />
          <path id="progress-bar" class="progress-arc-line" d="M 0,100 Q 500,4 1000,100" clip-path="url(#progress-clip)" />
          <!-- Playhead: solid dot + larger soft halo behind -->
          <circle class="progress-arc-playhead-halo" cx="0" cy="100" r="8" />
          <circle id="progress-playhead" class="progress-arc-playhead" cx="0" cy="100" r="3" />
        </svg>
        <input type="range" id="seeker" min="0" max="1000" value="0" step="1">
      </div>
      <div class="radio-controls">
        <button id="btn-prev" class="btn-control" aria-label="Previous">&#9664;&#9664;</button>
        <span id="current-time" class="time-display">0:00</span>

        <!-- <button class="hyper-btn" id="btn-play btn-control" aria-label="Play/Pause">
          <div class="hyper-glass">
            <div class="hyper-content">
              &#9654;
            </div>
          </div>
        </button> -->
        <button id="btn-play" class="btn-control btn-play" aria-label="Play/Pause">&#9654;<div class="hyper-shine"></div></button>

        <span id="duration" class="time-display">0:00</span>
        <button id="btn-next" class="btn-control" aria-label="Next">&#9654;&#9654;</button>
        <!-- <button id="btn-shuffle" class="btn-control btn-shuffle" aria-label="Shuffle">randomize</button> -->
        <button id="btn-shuffle" class="btn-control btn-shuffle" aria-label="Shuffle">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 20 C 10 20, 14 4, 20 4"></path>
            <polyline points="16 4 20 4 20 8"></polyline>
            
            <path d="M4 4 C 10 4, 12 7, 12 9"></path>
            
            <path d="M12.5 15 C 13.5 18, 15 20, 20 20"></path>
            <polyline points="16 20 20 20 20 16"></polyline>
          </svg>
        </button>



        <button id="btn-fav" class="btn-control btn-fav" aria-label="Favorite">&#9825;</button>
        <button id="btn-share" class="btn-control btn-share" aria-label="Share">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
            <polyline points="16 6 12 2 8 6"/>
            <line x1="12" y1="2" x2="12" y2="15"/>
          </svg>
        </button>
      </div>
      <div class="track-list-wrap">
        <div id="track-list" class="track-list"></div>
      </div>
      <p id="empty-state" class="empty-state" hidden>No musicians found for this combination. Try another genre.</p>
    </div>
  </section>

  <div id="reveal-now-playing" class="reveal-np" hidden>
    <span class="reveal-np-marquee">
      <span id="reveal-np-label" class="reveal-np-track"></span>
      <span id="reveal-np-label-dup" class="reveal-np-track" aria-hidden="true"></span>
    </span>
  </div>

  <button id="btn-now-playing" class="btn-now-playing" hidden>
    <span class="btn-np-marquee">
      <span id="btn-np-label" class="btn-np-track"></span>
      <span id="btn-np-label-dup" class="btn-np-track" aria-hidden="true"></span>
    </span>
  </button>

  <div id="loading-overlay" class="loading-overlay" hidden>
    <div class="loading-spinner">
      <!-- Your existing SVG -->
      <svg class="loading-ring" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M10,50c0,0,0,0.5,0.1,1.4c0,0.5,0.1,1,0.2,1.7c0,0.3,0.1,0.7,0.1,1.1c0.1,0.4,0.1,0.8,0.2,1.2c0.2,0.8,0.3,1.8,0.5,2.8c0.3,1,0.6,2.1,0.9,3.2c0.3,1.1,0.9,2.3,1.4,3.5c0.5,1.2,1.2,2.4,1.8,3.7c0.3,0.6,0.8,1.2,1.2,1.9c0.4,0.6,0.8,1.3,1.3,1.9c1,1.2,1.9,2.6,3.1,3.7c2.2,2.5,5,4.7,7.9,6.7c3,2,6.5,3.4,10.1,4.6c3.6,1.1,7.5,1.5,11.2,1.6c4-0.1,7.7-0.6,11.3-1.6c3.6-1.2,7-2.6,10-4.6c3-2,5.8-4.2,7.9-6.7c1.2-1.2,2.1-2.5,3.1-3.7c0.5-0.6,0.9-1.3,1.3-1.9c0.4-0.6,0.8-1.3,1.2-1.9c0.6-1.3,1.3-2.5,1.8-3.7c0.5-1.2,1-2.4,1.4-3.5c0.3-1.1,0.6-2.2,0.9-3.2c0.2-1,0.4-1.9,0.5-2.8c0.1-0.4,0.1-0.8,0.2-1.2c0-0.4,0.1-0.7,0.1-1.1c0.1-0.7,0.1-1.2,0.2-1.7C90,50.5,90,50,90,50s0,0.5,0,1.4c0,0.5,0,1,0,1.7c0,0.3,0,0.7,0,1.1c0,0.4-0.1,0.8-0.1,1.2c-0.1,0.9-0.2,1.8-0.4,2.8c-0.2,1-0.5,2.1-0.7,3.3c-0.3,1.2-0.8,2.4-1.2,3.7c-0.2,0.7-0.5,1.3-0.8,1.9c-0.3,0.7-0.6,1.3-0.9,2c-0.3,0.7-0.7,1.3-1.1,2c-0.4,0.7-0.7,1.4-1.2,2c-1,1.3-1.9,2.7-3.1,4c-2.2,2.7-5,5-8.1,7.1c-0.8,0.5-1.6,1-2.4,1.5c-0.8,0.5-1.7,0.9-2.6,1.3L66,87.7l-1.4,0.5c-0.9,0.3-1.8,0.7-2.8,1c-3.8,1.1-7.9,1.7-11.8,1.8L47,90.8c-1,0-2-0.2-3-0.3l-1.5-0.2l-0.7-0.1L41.1,90c-1-0.3-1.9-0.5-2.9-0.7c-0.9-0.3-1.9-0.7-2.8-1L34,87.7l-1.3-0.6c-0.9-0.4-1.8-0.8-2.6-1.3c-0.8-0.5-1.6-1-2.4-1.5c-3.1-2.1-5.9-4.5-8.1-7.1c-1.2-1.2-2.1-2.7-3.1-4c-0.5-0.6-0.8-1.4-1.2-2c-0.4-0.7-0.8-1.3-1.1-2c-0.3-0.7-0.6-1.3-0.9-2c-0.3-0.7-0.6-1.3-0.8-1.9c-0.4-1.3-0.9-2.5-1.2-3.7c-0.3-1.2-0.5-2.3-0.7-3.3c-0.2-1-0.3-2-0.4-2.8c-0.1-0.4-0.1-0.8-0.1-1.2c0-0.4,0-0.7,0-1.1c0-0.7,0-1.2,0-1.7C10,50.5,10,50,10,50z" fill="currentColor"/></svg>
    </div>
    <p class="loading-text">Calculating your Venus placement...</p>
  </div>

</body>
</html>